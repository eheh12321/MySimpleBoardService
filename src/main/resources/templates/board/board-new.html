<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragment/base::default_header(~{::title}, ~{::link})}">
    <title>게시글 등록</title>
    <link/>
</head>
<body>
<header th:replace="~{fragment/base::default_topbar}"></header>
<main>
    <div class="container py-4">
        <div class="p-5 mb-4 bg-light rounded-3">
            <div class="container-fluid py-5">
                <h5 class="display-5 fw-bold mb-3">게시글 등록</h5>
                <hr>
                <form id="boardCreateForm" enctype="multipart/form-data">

                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text">제목</span>
                            <input type="text" class="form-control" id="title" name="title">
                        </div>
                        <div class="row">
                            <p class="field-error text-danger text-end m-0" id="title-field-error"></p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text">작성자</span>
                            <input type="text" class="form-control" id="editor" name="editor"
                                   th:readonly="${#authorization.expression('!isAnonymous()')}"
                                   th:value="${#authorization.expression('!isAnonymous()')} ? ${#authentication.principal.nickname} : '익명'">
                        </div>
                        <div class="row">
                            <p class="field-error text-danger text-end m-0" id="editor-field-error"></p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="input-group">
                            <span class="input-group-text">본문</span>
                            <textarea class="form-control" rows="10" id="content" name="content"></textarea>
                        </div>
                        <div class="row">
                            <p class="field-error text-danger text-end m-0" id="content-field-error"></p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <input class="form-control" type="file" id="files" name="files" multiple>
                    </div>
                    <hr>
                    <a class="btn btn-secondary" type="button" href="/boards">뒤로가기</a>
                    <a class="btn btn-primary float-end" type="button" onclick="create_board()">등록</a>
                </form>
            </div>
        </div>
    </div>
</main>
<footer th:replace="~{fragment/base::default_footer(~{::script})}">
    <script src="/resources/js/board-func.js"></script>
</footer>
</body>
</html>